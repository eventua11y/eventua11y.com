---
import DefaultLayout from '../layouts/default.astro';
import Today from '../components/Today.vue';
import EventList from '../components/EventList.vue';
import FilterBar from '../components/FilterBar.vue';
import Filters from '../components/Filters.vue';
import MonthNav from '../components/MonthNav.vue';

// Disable prerendering to enable SSR
export const prerender = false;

---

<DefaultLayout>
  <Fragment slot="subheader">
    <nav aria-label="Event filters">
      <FilterBar client:only="vue" />
    </nav>
  </Fragment>
  <Fragment slot="dialogs">
    <Filters client:only="vue" />
  </Fragment>
  <Today client:load />
  <div id="events" role="region" aria-labelledby="upcoming-events-heading" class="wa-padding-l">
    <h1 id="upcoming-events-heading" class="wa-visually-hidden">Upcoming accessibility events</h1>
    <EventList type="upcoming" client:load />
  </div>
  <Fragment slot="aside">
    <MonthNav client:load contentRegion='#events' showTodayLink={true} />
  </Fragment>
</DefaultLayout>

<!-- Drawer open/close is handled declaratively by Web Awesome via data-drawer attributes -->

