---
import '@shoelace-style/shoelace/dist/themes/light.css';
import '@shoelace-style/shoelace/dist/themes/dark.css';
import '../styles/styles.css';
import TheFooter from '../components/TheFooter.astro';
import TheHeader from '../components/TheHeader.astro';
const { title } = Astro.props.frontmatter || Astro.props;
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="Astro" />
    <meta
      name="description"
      content="The calendar of digital accessibility and inclusive design events, curated by Matt Obee."
    />
    <meta name="keywords" content="accessibility, a11y, events, calendar" />
    <meta name="robots" content="index, follow" />
    <meta name="author" content="Matt Obee" />
    <meta name="theme-color" content="#650fca" />
    <title>
      {
        title
          ? `${title} - Eventua11y - accessibility and inclusive design events`
          : 'Eventua11y - accessibility and inclusive design events'
      }
    </title>
    <meta
      property="og:title"
      content={title ? `${title} - Eventua11y` : 'Eventua11y'}
    />
    <meta property="og:site_name" content="Eventua11y" />
    <meta property="og:author" content="Matt Obee" />
    <meta
      property="og:description"
      content="The calendar of digital accessibility and inclusive design events, curated by Matt Obee."
    />
    <meta
      property="og:image"
      content="https://eventua11y.com/favicon/eventua11y_og_min.png"
    />
    <meta property="og:type" content="website" />
    <meta property="og:url" content={Astro.url} />
    <script is:inline>
      (function () {
        const storedTheme = localStorage.getItem('theme');
        const prefersDarkScheme = window.matchMedia(
          '(prefers-color-scheme: dark)'
        ).matches;
        if (storedTheme) {
          document.documentElement.setAttribute('data-theme', storedTheme);
        } else if (prefersDarkScheme) {
          document.documentElement.setAttribute('data-theme', 'dark');
        } else {
          document.documentElement.setAttribute('data-theme', 'light');
        }
      })();
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Slab&display=swap"
      rel="stylesheet"
      media="print"
      onload="this.media='all'"
    />
    <noscript>
      <link
        href="https://fonts.googleapis.com/css2?family=Atkinson+Hyperlegible:ital,wght@0,400;0,700;1,400;1,700&family=Roboto+Slab&display=swap"
        rel="stylesheet"
      />
    </noscript>
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/favicon/apple-touch-icon.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="/favicon/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="/favicon/favicon-16x16.png"
    />
    <link rel="manifest" href="/favicon/site.webmanifest" />
    <link rel="canonical" href={new URL(Astro.url.pathname, Astro.site).href} />
  </head>
  <body>
    <a href="#main" class="skip">
      <svg
        xmlns="http://www.w3.org/2000/svg"
        viewBox="0 0 384 512"
        class="icon"
        aria-hidden="true"
        fill="currentColor"
        ><path
          d="M342.1 249.9L219.3 372.7c-7.2 7.2-17.1 11.3-27.3 11.3s-20.1-4.1-27.3-11.3L41.9 249.9c-6.4-6.4-9.9-15-9.9-24C32 207.2 47.2 192 65.9 192l62.1 0 0-128c0-17.7 14.3-32 32-32l64 0c17.7 0 32 14.3 32 32l0 128 62.1 0c18.7 0 33.9 15.2 33.9 33.9c0 9-3.6 17.6-9.9 24zM32 416l320 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 480c-17.7 0-32-14.3-32-32s14.3-32 32-32z"
        ></path></svg
      > Skip to main content
    </a>

    <TheHeader />

    <main id="main">
      <slot />
    </main>

    <TheFooter />
    <script src="https://cdn.usefathom.com/script.js" data-site="XTSPEPUF" defer
    ></script>
  </body>
</html>

<script>
  // Import Shoelace components after hydration
  import '@shoelace-style/shoelace/dist/components/button/button.js';
  import '@shoelace-style/shoelace/dist/components/badge/badge.js';
  import '@shoelace-style/shoelace/dist/components/icon/icon.js';
  import '@shoelace-style/shoelace/dist/components/dropdown/dropdown.js';
  import '@shoelace-style/shoelace/dist/components/menu/menu.js';
  import '@shoelace-style/shoelace/dist/components/menu-item/menu-item.js';
  import '@shoelace-style/shoelace/dist/components/alert/alert.js';
  import '@shoelace-style/shoelace/dist/components/drawer/drawer.js';
  import '@shoelace-style/shoelace/dist/components/switch/switch.js';
  // sl-skeleton removed â€” replaced with native CSS skeleton in Skeleton.vue
  import '@shoelace-style/shoelace/dist/components/radio/radio.js';
  import '@shoelace-style/shoelace/dist/components/radio-group/radio-group.js';
  import '@shoelace-style/shoelace/dist/components/divider/divider.js';

  // Set base path for Shoelace assets
  import { setBasePath } from '@shoelace-style/shoelace/dist/utilities/base-path.js';
  setBasePath(
    'https://cdn.jsdelivr.net/npm/@shoelace-style/shoelace@2.20.1/cdn/'
  );

  import '../scripts/main.ts';
</script>
